<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-guides docs-version-current docs-doc-page docs-doc-id-kube-prom-stack" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Install the Kube Prometheus Stack | Team 5</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://opengraph.githubassets.com/3fbd03d4d860275ee154ca566f24ecce9243e229fe367523fbcab52e8b43db3f/glasskube/glasskube"><meta data-rh="true" name="twitter:image" content="https://opengraph.githubassets.com/3fbd03d4d860275ee154ca566f24ecce9243e229fe367523fbcab52e8b43db3f/glasskube/glasskube"><meta data-rh="true" property="og:url" content="https://EvilFlowersCatalog.dev/TP2024-T5/guides/kube-prometheus-stack/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-guides-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-guides-current"><meta data-rh="true" property="og:title" content="Install the Kube Prometheus Stack | Team 5"><meta data-rh="true" name="description" content="Learn how to easily install the kube-prometheus-stack with Glasskube"><meta data-rh="true" property="og:description" content="Learn how to easily install the kube-prometheus-stack with Glasskube"><link data-rh="true" rel="icon" href="/TP2024-T5/img/favicon.png"><link data-rh="true" rel="canonical" href="https://EvilFlowersCatalog.dev/TP2024-T5/guides/kube-prometheus-stack/"><link data-rh="true" rel="alternate" href="https://EvilFlowersCatalog.dev/TP2024-T5/guides/kube-prometheus-stack/" hreflang="en"><link data-rh="true" rel="alternate" href="https://EvilFlowersCatalog.dev/TP2024-T5/guides/kube-prometheus-stack/" hreflang="x-default"><link rel="preconnect" href="https://a.glasskube.eu/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://a.glasskube.eu/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","5"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>

<link rel="alternate" type="application/rss+xml" href="/TP2024-T5/blog/rss.xml" title="Team 5 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/TP2024-T5/blog/atom.xml" title="Team 5 Atom Feed">


<link rel="preconnect" href="https://p.glasskube.eu">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(p,i,n){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=i.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==n?g=e[n]=[]:n="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==n&&(e+="."+n),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([p,i,n])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_EloQUW6cgfbTc0pI9c5CXElhQ4gVGRoBsrUAoakJVoQ",{api_host:"https://p.glasskube.eu",ui_host:"https://eu.posthog.com",id:"default"})</script><link rel="stylesheet" href="/TP2024-T5/assets/css/styles.a24e5d0d.css">
<script src="/TP2024-T5/assets/js/runtime~main.c5d43d90.js" defer="defer"></script>
<script src="/TP2024-T5/assets/js/main.cab52d05.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/TP2024-T5/"><div class="navbar__logo"><img src="/TP2024-T5/img/glasskube-logo.svg" alt="Glasskube Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/TP2024-T5/img/glasskube-logo.svg" alt="Glasskube Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Team 5</b></a><a class="navbar__item navbar__link" href="/TP2024-T5/blog/">Z√°pisnice</a><a class="navbar__item navbar__link" href="/TP2024-T5/docs/documentation/">Dokument√°cia</a><a class="navbar__item navbar__link" href="/TP2024-T5/docs/sprints/">≈†printy</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/TP2024-T5/guides/categories/">Package Installation Guides</a><button aria-label="Collapse sidebar category &#x27;Package Installation Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TP2024-T5/guides/cert-manager/">Install cert-manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TP2024-T5/guides/ingress-nginx/">Install ingress-nginx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TP2024-T5/guides/rabbitmq/">RabbitMQ on Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TP2024-T5/guides/Quickwit/">Quickwit on Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/TP2024-T5/guides/kube-prometheus-stack/">Install the Kube Prometheus Stack</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/TP2024-T5/guides/categories/contributors/">Contributor Guides</a><button aria-label="Expand sidebar category &#x27;Contributor Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/TP2024-T5/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/TP2024-T5/guides/categories/"><span itemprop="name">Package Installation Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Install the Kube Prometheus Stack</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Install the Kube Prometheus Stack</h1></header><p><a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus</a> and <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a> are open-source, community-backed solutions with stellar reputations. They bring immense value by fetching and storing metrics while enabling the creation of dashboards that are not only useful but also easy on the eyes.</p>
<p>The uncomfortable truth is that anyone who has ever set up <code>Prometheus</code> alongside <code>Grafana</code> as their environment&#x27;s monitoring stack from scratch has probably felt the frustration of not getting value especially quickly. Metric exporter configuration, dashboard widget customisation and deciding what to monitor and alert on in the first place takes time.</p>
<p>That&#x27;s why <a href="https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack" target="_blank" rel="noopener noreferrer">kube-prometheus-stack</a> was created. It installs a collection of Kubernetes manifests, Grafana dashboards, and Prometheus rules, providing an easy-to-operate, end-to-end Kubernetes cluster monitoring solution with Prometheus using the Prometheus Operator.</p>
<p>This sounds like good news, and it is, but the stack is bundled in a Helm chart, and just the <code>values.yaml</code> file has <em>over 4000 lines</em>. Configuring and maintaining the Helm chart isn‚Äôt necessarily straightforward or ‚Äúfun.‚Äù</p>
<p>With so many configuration options, we must be getting something good right? Well yeah, we are, by deploying kube-prometheus-stack we get all of this right out of the box:</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2fcquzgd73xf9cc83ap1.png" alt="stack-diagram" class="img_ev3q"></p>
<p><strong>Top Layer:</strong></p>
<ul>
<li><strong>User:</strong> Interacts with Grafana and Kubernetes API.</li>
</ul>
<p><strong>Visualization and Alerting Layer:</strong></p>
<ul>
<li><strong><a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a>:</strong> Connects to Prometheus for data visualization.</li>
<li><strong><a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noopener noreferrer">Alertmanager</a>:</strong> Connected to Prometheus for alert management.</li>
<li><strong><a href="https://github.com/prometheus/prometheus" target="_blank" rel="noopener noreferrer">Prometheus Server</a>:</strong> Central component collecting and storing metrics.</li>
</ul>
<p><strong>Exporters Layer:</strong></p>
<ul>
<li><strong><a href="https://prometheus.io/docs/guides/node-exporter/" target="_blank" rel="noopener noreferrer">Node Exporter</a>:</strong> Collects node-level metrics.</li>
<li><strong><a href="https://github.com/kubernetes/kube-state-metrics" target="_blank" rel="noopener noreferrer">Kube State Metrics</a>:</strong> Collects metrics from Kubernetes API objects.</li>
<li><strong>Other Exporters:</strong> Additional exporters for various applications and services.</li>
</ul>
<p><strong>Kubernetes Cluster:</strong></p>
<ul>
<li><strong>Kubernetes Nodes</strong>: Running applications and system components.</li>
<li><strong>Applications:</strong> Monitored by the Kube Prometheus Stack.</li>
</ul>
<p>Luckily, <a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer">Glasskube</a> now supports the <code>kube-prometheus-stack</code>. Package configuration, lifecycle management, and installation can be done in record time.</p>
<p>In this blog post, we will explore the steps to configure and install the <code>kube-prometheus-stack</code> using <a href="https://glasskube.dev/" target="_blank" rel="noopener noreferrer">Glasskube</a>, wasting no unnecessary time wrestling with never-ending values files and getting you working dashboards and alerts quicker than ever before.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements:<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements:" title="Direct link to Requirements:">‚Äã</a></h3>
<ul>
<li>Access to a <strong>Kubernetes cluster</strong> (<a href="https://minikube.sigs.k8s.io/docs/start" target="_blank" rel="noopener noreferrer">Minikube</a> will be fine)</li>
<li><a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer">Glasskube</a> installed</li>
<li>An extra screen for all the cool dashboards you are going to want to look at all the time. ü§£</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-cluster">Create a cluster<a href="#create-a-cluster" class="hash-link" aria-label="Direct link to Create a cluster" title="Direct link to Create a cluster">‚Äã</a></h3>
<p>Install <a href="https://minikube.sigs.k8s.io/docs/start" target="_blank" rel="noopener noreferrer">Minikube</a> then run:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">minikube start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Check your installation by running:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">minukube status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Desired output:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">‚ûú  ~ minikube status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">minikube</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">type: Control Plane</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">host: Running</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubelet: Running</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apiserver: Running</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubeconfig: Configured</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-glasskube">Install Glasskube<a href="#install-glasskube" class="hash-link" aria-label="Direct link to Install Glasskube" title="Direct link to Install Glasskube">‚Äã</a></h3>
<p>If you already installed <code>glasskube</code> you can skip this step.
If not, <code>glasskube</code> can easily be installed the way you usually install packages for your operating system.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">macOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Linux</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">NixOS/Nixpkgs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>On macOS, you can use <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a> to install and update Glasskube.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">brew install glasskube/tap/glasskube</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>You can install Glasskube using one of the package managers below.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>RPM-based installation (RedHat/CentOS/Fedora)</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dnf install https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>DEB-based installation (Ubuntu/Debian)</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -LO https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.deb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo dpkg -i glasskube_v0.24.0_amd64.deb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>APK-based installation (Alpine)</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl -LO https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.apk</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apk add --allow-untrusted glasskube_v0.24.0_amd64.apk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>If you are using a distribution that does not use one of the package managers above, or require a 32-bit binary,
check out additional download options attached to our <a href="https://github.com/glasskube/glasskube/releases/latest" target="_blank" rel="noopener noreferrer">latest release</a>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Download the <a href="https://releases.dl.glasskube.dev/glasskube_v0.24.0_windows_x86_64.zip" target="_blank" rel="noopener noreferrer">windows archive</a> from our
latest <a href="https://github.com/glasskube/glasskube/releases/latest" target="_blank" rel="noopener noreferrer">Release</a> and unpack it using Windows Explorer.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>You can either use the package temporarily in a <b>nix-shell</b>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">nix-shell -p glasskube</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or install it globally by adding <code>pkgs.glasskube</code> to your <code>environment.systemPackages</code>.</p></div></div></div>
<br>
<p>After installing Glasskube on your local machine, make sure to install the necessary components in your Kubernetes cluster by running <code>glasskube bootstrap</code>.
For more information, check out our <a href="/TP2024-T5/docs/getting-started/bootstrap/">bootstrap guide</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-kube-prometheus-stack">Install kube-prometheus-stack<a href="#install-kube-prometheus-stack" class="hash-link" aria-label="Direct link to Install kube-prometheus-stack" title="Direct link to Install kube-prometheus-stack">‚Äã</a></h3>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">GUI üñ•Ô∏è</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">CLI üßë‚Äçüíª</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Start the UI via the command line:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glasskube serve</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Install kube-prometheus-stack via the Glasskube UI by following the package customization steps below.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>A package can be installed with a simple command.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">glasskube install kube-prometheus-stack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The process will wait until the package got successfully installed.</p></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="package-customization">Package Customization<a href="#package-customization" class="hash-link" aria-label="Direct link to Package Customization" title="Direct link to Package Customization">‚Äã</a></h2>
<p>Glasskube offers a series of customisations that we can be tweaked and adjusted from the CLI or GUI, saving you from having to render and configure the <code>values.yaml</code> file directly.</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/w7txd2o9vw0mxvrebj3g.png" alt="parameter config" class="img_ev3q"></p>
<p>Let‚Äôs take them one by one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-alertmanager-">Enable Alertmanager üö®<a href="#enable-alertmanager-" class="hash-link" aria-label="Direct link to Enable Alertmanager üö®" title="Direct link to Enable Alertmanager üö®">‚Äã</a></h3>
<p>We want <code>Alertmanager</code> to be enabled so we can leverage the metrics prometheus exposes to create helpful alerts.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grafana-domain-">Grafana Domain üìä<a href="#grafana-domain-" class="hash-link" aria-label="Direct link to Grafana Domain üìä" title="Direct link to Grafana Domain üìä">‚Äã</a></h3>
<p>We will leave this empty for this demo since we would need to deploy an ingress controller to our cluster to handle the ingress object associated with the grafana service. We could use <a href="https://glasskube.dev/guides/kube-prometheus-stack/" target="_blank" rel="noopener noreferrer">kube-prometheus-stack</a> or <a href="https://github.com/caddyserver/ingress" target="_blank" rel="noopener noreferrer">caddy-ingress</a> which are also supported by Glasskube for this.</p>
<blockquote>
<p>Glasskube will automatically port-forward the Grafana pod so we can access the dashboard via the <code>Open</code> button.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-exporter-host-network-">Node Exporter host network üíΩ<a href="#node-exporter-host-network-" class="hash-link" aria-label="Direct link to Node Exporter host network üíΩ" title="Direct link to Node Exporter host network üíΩ">‚Äã</a></h3>
<p>Let‚Äôs also enable this to export node level metrics like memory and node level CPU usage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-retention-">Prometheus retention üìÖ<a href="#prometheus-retention-" class="hash-link" aria-label="Direct link to Prometheus retention üìÖ" title="Direct link to Prometheus retention üìÖ">‚Äã</a></h3>
<p>This is a duration in days for how long we want to persist the collected metrics.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-storage-size">Prometheus storage size<a href="#prometheus-storage-size" class="hash-link" aria-label="Direct link to Prometheus storage size" title="Direct link to Prometheus storage size">‚Äã</a></h3>
<p>The amount of storage requests we consider the package will need.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameter-input-methods-Ô∏è">Parameter input methods üóÑÔ∏è<a href="#parameter-input-methods-Ô∏è" class="hash-link" aria-label="Direct link to Parameter input methods üóÑÔ∏è" title="Direct link to Parameter input methods üóÑÔ∏è">‚Äã</a></h3>
<p>Glasskube allows for various methods of parameter input:</p>
<ul>
<li>From a <strong>Kubernetes Secret</strong></li>
<li>From <strong>ConfigMap</strong></li>
<li>Value from <strong>Package Configuration</strong></li>
<li>Via the <strong>UI</strong></li>
</ul>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/e8dd9vj10hqw13qk98td.png" alt="data input methods" class="img_ev3q"></p>
<p>By choosing to inject data via <strong>Kubernetes Secrets</strong>, <strong>ConfigMaps</strong> and <strong>Package configuration</strong> we can maintain simplicity without compromising security.</p>
<p>Here is the example of how we would reference a specific <code>configMap</code> we have already created and deployed to our cluster.</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/67dqnt7cxgpeq1zvdea4.png" alt="Value from ConfigMap" class="img_ev3q"></p>
<blockquote>
<p>üí° If you&#x27;re using <code>kube-prometheus-stack</code> and considering Glasskube for package lifecycle management but need support for specific key parameter customizations, please <a href="https://github.com/glasskube/glasskube/issues" target="_blank" rel="noopener noreferrer">open an issue</a> on GitHub with your use case. We&#x27;ll do our best to expand the parameter list accordingly.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-via-glasskkube">Install via Glasskkube<a href="#install-via-glasskkube" class="hash-link" aria-label="Direct link to Install via Glasskkube" title="Direct link to Install via Glasskkube">‚Äã</a></h2>
<p>Once the configuration section is complete, install <code>kube-prometheus-stack.</code></p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ch181euwexulffkli9d.png" alt="Glasskube UI" class="img_ev3q"></p>
<p>Upon installation you can see that the <code>kube-prometheus-stack</code> namespace has been created. And a series of pods have been deployed, including the <code>grafana</code> dashboard, the <code>prometheus operator</code> and the <code>kube state metrics</code> pods too.</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/l3pgws4cf2qtib4449m3.png" alt="cli output" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-the-dashboards">Access the dashboards<a href="#access-the-dashboards" class="hash-link" aria-label="Direct link to Access the dashboards" title="Direct link to Access the dashboards">‚Äã</a></h2>
<blockquote>
<p><em>In next weeks blog post we will access the dashboard via a custom dedicated Grafana URL</em></p>
</blockquote>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mnt9zl5qxuq8cd54qwni.gif" alt="open command" class="img_ev3q"></p>
<p>Hit the <code>Open</code> button or if you want to access Grafana on a different port you can simply <code>port-forward</code> the pod, which will map the exposed Grafana port to a port on your localhost. I&#x27;ve arbitrarily chosen to <code>port-forward</code> to <code>localhost 52222</code> since it&#x27;s available.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl port-forward POD_NAME 52222:3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Head over to <code>http://localhost:52222/</code> and you will then be greated by the Granfana login page. To find your credentials which are stored in a Kubernetes secret that was generated as part of the deployed stack, run:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get secret kube-prometheus-stack-kube-prometheus-stack-grafana  -o go-template=&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{range $k,$v := .data}}{{printf &quot;%s: &quot; $k}}{{if not $v}}{{$v}}{{else}}{{$v | base64decode}}{{end}}{{&quot;\n&quot;}}{{end}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Which will output something like:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">admin-password: &lt;password&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">admin-user: admin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ldap-toml:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Upon access you we be greeted by a long list of powerful pre-configured Grafana dashboards which are already showing local cluster metrics:</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6qet3srm7xly065jfbx5.png" alt="dashboards" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="easily-access-cpu-usage-information">Easily access CPU usage information<a href="#easily-access-cpu-usage-information" class="hash-link" aria-label="Direct link to Easily access CPU usage information" title="Direct link to Easily access CPU usage information">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ikbx8hwn3ffssi7zeutr.png" alt="CPU dashboard" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="here-is-a-segment-of-the-nifty-coredns-dashboard-that-also-comes-preconfigured">Here is a segment of the nifty CoreDNS dashboard that also comes preconfigured<a href="#here-is-a-segment-of-the-nifty-coredns-dashboard-that-also-comes-preconfigured" class="hash-link" aria-label="Direct link to Here is a segment of the nifty CoreDNS dashboard that also comes preconfigured" title="Direct link to Here is a segment of the nifty CoreDNS dashboard that also comes preconfigured">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ywy90tbmkhuhrz0bb0ul.png" alt="CoreDNS" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="alerting">Alerting<a href="#alerting" class="hash-link" aria-label="Direct link to Alerting" title="Direct link to Alerting">‚Äã</a></h2>
<p>We already get many useful alerts created for us right out of the box.</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ptnr7vl5hux0hur8tzh3.png" alt="alerting rules" class="img_ev3q"></p>
<p>In this snippet you can see that some of the preconfigured alerts are already firing: ‚ÜòÔ∏è</p>
<p><img decoding="async" loading="lazy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0dguekqv6cg5yox9ofq4.png" alt="firing alerts" class="img_ev3q"></p>
<p>If you want to be notified in via <strong>email</strong>, <strong>PagerDuty</strong> or any number of third party supported you will just need to add your <a href="https://grafana.com/docs/grafana/latest/alerting/fundamentals/notifications/contact-points/#:~:text=A%20contact%20point%20is%20a,custom%20message%2C%20or%20notification%20templates." target="_blank" rel="noopener noreferrer">contact points</a> of preference and then add them as destination inside <a href="https://grafana.com/docs/grafana/latest/alerting/configure-notifications/create-notification-policy/" target="_blank" rel="noopener noreferrer">custom notification policies</a>.</p>
<p>The <code>kube-prometheus-stack</code> offers tremendous <strong>&quot;out-of-the-box&quot;</strong> value for Kubernetes cluster monitoring, eliminating the need to start from scratch. It bundles essential components for metrics exposure, extraction, alerting, and visualization, helping you establish a robust monitoring posture from the get-go. With official support from <code>Glasskube</code>, managing and updating a comprehensive, best practice-compliant monitoring stack has never been easier.</p>
<hr>
<p>If you like this sort of content and would like to see more of it, please consider supporting us by giving us a Star on <a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer">GitHub</a> üôè
<a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://github.com/glasskube/glasskube/assets/38757612/05a03edf-7d6a-48fd-9b24-598abcfd1e9a" alt="cats-like--github-stars" class="img_ev3q"></a></p>
<div style="display:flex;justify-content:right"><span><a href="https://github.com/glasskube/glasskube" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star https://github.com/glasskube/glasskube on GitHub">Star</a></span></div>
</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/TP2024-T5/guides/tags/kube-prometheus-stack/">kube-prometheus-stack</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-05T16:52:31.000Z" itemprop="dateModified">Oct 5, 2024</time></b> by <b>RobertPrikryl</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/TP2024-T5/guides/Quickwit/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quickwit on Kubernetes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/TP2024-T5/guides/categories/contributors/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contributor Guides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements:</a></li><li><a href="#create-a-cluster" class="table-of-contents__link toc-highlight">Create a cluster</a></li><li><a href="#install-glasskube" class="table-of-contents__link toc-highlight">Install Glasskube</a></li><li><a href="#install-kube-prometheus-stack" class="table-of-contents__link toc-highlight">Install kube-prometheus-stack</a></li><li><a href="#package-customization" class="table-of-contents__link toc-highlight">Package Customization</a><ul><li><a href="#enable-alertmanager-" class="table-of-contents__link toc-highlight">Enable Alertmanager üö®</a></li><li><a href="#grafana-domain-" class="table-of-contents__link toc-highlight">Grafana Domain üìä</a></li><li><a href="#node-exporter-host-network-" class="table-of-contents__link toc-highlight">Node Exporter host network üíΩ</a></li><li><a href="#prometheus-retention-" class="table-of-contents__link toc-highlight">Prometheus retention üìÖ</a></li><li><a href="#prometheus-storage-size" class="table-of-contents__link toc-highlight">Prometheus storage size</a></li><li><a href="#parameter-input-methods-Ô∏è" class="table-of-contents__link toc-highlight">Parameter input methods üóÑÔ∏è</a></li></ul></li><li><a href="#install-via-glasskkube" class="table-of-contents__link toc-highlight">Install via Glasskkube</a></li><li><a href="#access-the-dashboards" class="table-of-contents__link toc-highlight">Access the dashboards</a><ul><li><a href="#easily-access-cpu-usage-information" class="table-of-contents__link toc-highlight">Easily access CPU usage information</a></li><li><a href="#here-is-a-segment-of-the-nifty-coredns-dashboard-that-also-comes-preconfigured" class="table-of-contents__link toc-highlight">Here is a segment of the nifty CoreDNS dashboard that also comes preconfigured</a></li></ul></li><li><a href="#alerting" class="table-of-contents__link toc-highlight">Alerting</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 Glasskube, Inc.<br>Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>