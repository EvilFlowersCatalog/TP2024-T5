"use strict";(self.webpackChunkglasskube_docs=self.webpackChunkglasskube_docs||[]).push([[5323],{61802:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>g});var a=s(74848),t=s(28453),r=s(49489),i=s(7227),l=s(15357),c=s(51852);const o={title:"Install cert-manager",slug:"cert-manager",description:"Install cert-manager for Kubernetes with Glasskube package manager including a GUI, CLI and automatic package updates",authors:["pmig"],tags:["cert-manager"]},u="Install cert-manager for Kubernetes",d={id:"cert-manager",title:"Install cert-manager",description:"Install cert-manager for Kubernetes with Glasskube package manager including a GUI, CLI and automatic package updates",source:"@site/guides/01_cert-manager.mdx",sourceDirName:".",slug:"/cert-manager",permalink:"/TP2024-T5/guides/cert-manager",draft:!1,unlisted:!1,tags:[{inline:!0,label:"cert-manager",permalink:"/TP2024-T5/guides/tags/cert-manager"}],version:"current",lastUpdatedBy:"RobertPrikryl",lastUpdatedAt:1728147151e3,sidebarPosition:1,frontMatter:{title:"Install cert-manager",slug:"cert-manager",description:"Install cert-manager for Kubernetes with Glasskube package manager including a GUI, CLI and automatic package updates",authors:["pmig"],tags:["cert-manager"]},sidebar:"guides",previous:{title:"Package Installation Guides",permalink:"/TP2024-T5/guides/categories/"},next:{title:"Install ingress-nginx",permalink:"/TP2024-T5/guides/ingress-nginx"}},h={},g=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"About cert-manager",id:"about-cert-manager",level:2},{value:"Installation",id:"installation",level:2},{value:"Install Glasskube",id:"install-glasskube",level:3},...l.RM,{value:"Install cert-manager",id:"install-cert-manager",level:3},{value:"Configuring cert-manager",id:"configuring-cert-manager",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"install-cert-manager-for-kubernetes",children:"Install cert-manager for Kubernetes"})}),"\n",(0,a.jsxs)(n.p,{children:["Learn how to install ",(0,a.jsx)(n.a,{href:"https://cert-manager.io/",children:"cert-manager"})," using the ",(0,a.jsx)(n.a,{href:"https://github.com/glasskube/glasskube",children:(0,a.jsx)(n.code,{children:"glasskube"})})," package manager."]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Kubernetes cluster (You can easily create a local cluster by using ",(0,a.jsx)(n.a,{href:"https://minikube.sigs.k8s.io/docs/start/",children:"Minikube"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/",children:(0,a.jsx)(n.code,{children:"kubectl"})})," is strictly speaking no ",(0,a.jsx)(n.em,{children:"dependency"})," for installing packages via glasskube,\nbut it is the recommended way to interact with the cluster. Therefore, it is highly recommended.\nInstallation instructions are available for\n",(0,a.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/",children:"macOS"}),",\n",(0,a.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/",children:"Linux"}),"\nand ",(0,a.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl-windows/",children:"Windows"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"about-cert-manager",children:"About cert-manager"}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsx)(n.mermaid,{value:"flowchart LR\n\n  cert-manager(((cert-manager))) <--\x3e Issuers\n  cert-manager <--\x3e Certificates\n\n  subgraph Issuers [Issuers can be created via custom resources]\n  letsencrypt-staging\n  letsencrypt-prod\n  end\n\n  subgraph Certificates\n  foo.bar.com --\x3e keypair1[signed keypair]\n  example.com --\x3e keypair2[signed keypair]\n  end"}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsx)(n.p,{children:"Cert-Manager is a widely used tool for managing certificates, specifically made for Kubernetes.\nIt simplifies the process of getting, renewing, and using SSL/TLS certificates.\nCert-Manager can interact with different certificate authorities (Issuer) such as Let's Encrypt,\nand it can automatically issue valid certificates.\nAdditionally, it can handle the automatic renewal of certificates before they expire."}),(0,a.jsx)(n.p,{children:"These certificates can then be used by various applications like ingress controllers or deployments."})]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.p,{children:"Installing cert-manager can easily be achieved with the Glasskube package manager."}),"\n",(0,a.jsx)(n.h3,{id:"install-glasskube",children:"Install Glasskube"}),"\n",(0,a.jsxs)(n.p,{children:["If you already installed ",(0,a.jsx)(n.code,{children:"glasskube"})," you can skip this step.\nIf not, ",(0,a.jsx)(n.code,{children:"glasskube"})," can easily be installed the way you usually install packages for your operating system."]}),"\n",(0,a.jsx)(l.Ay,{}),"\n",(0,a.jsx)(n.h3,{id:"install-cert-manager",children:"Install cert-manager"}),"\n",(0,a.jsxs)(r.A,{groupId:"interface",children:[(0,a.jsxs)(i.A,{value:"gui",label:"GUI \ud83d\udda5\ufe0f",children:[(0,a.jsx)(n.p,{children:"Start the UI via the command line:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"glasskube serve\n"})}),(0,a.jsx)(n.p,{children:"Install cert-manager via the Glasskube UI."})]}),(0,a.jsxs)(i.A,{value:"cli",label:"CLI \ud83e\uddd1\u200d\ud83d\udcbb",children:[(0,a.jsx)(n.p,{children:"A package can be installed with a simple command."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"glasskube install cert-manager\n"})}),(0,a.jsx)(n.p,{children:"The process will wait until the package got successfully installed."})]})]}),"\n",(0,a.jsx)(n.h2,{id:"configuring-cert-manager",children:"Configuring cert-manager"}),"\n",(0,a.jsxs)(n.p,{children:["Before cert-manager can issue certificates an ",(0,a.jsx)(n.code,{children:"Issuer"})," or (",(0,a.jsx)(n.code,{children:"ClusterIssuer"}),") needs to be created so cert-manager knows which\ncertificate authority (CA) should sign the public key of the certificate."]}),"\n",(0,a.jsxs)(n.p,{children:["In this example we showcase the use of the production acme server.\nFore testing purposes letsencrypt recommend the ",(0,a.jsx)(n.a,{href:"https://letsencrypt.org/docs/staging-environment/",children:"staging environment"}),"\nwhich has higher rate limits, than the production server."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="cluster-issuer.yaml"',children:"apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt\n  namespace: cert-manager\nspec:\n  acme:\n    server: https://acme-v02.api.letsencrypt.org/directory\n    email: you@yourcorp.com # you will receive expiration warnings via this email\n    privateKeySecretRef:\n      name: letsencrypt\n    solvers:\n      - http01:\n          ingress:\n            class: nginx # requires ingress-nginx controller\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"ClusterIssuer"})," must be created as a Kubernetes custom resource. This can easily be achieved via ",(0,a.jsx)(n.code,{children:"kubectl apply"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"kubectl apply -f cluster-issuer.yaml\n"})}),"\n",(0,a.jsxs)(n.p,{children:["cert-manager creates an Ingress to validate the ACME challenge, if no Ingress controller is already installed in\nthe cluster the ",(0,a.jsx)(n.a,{href:"/TP2024-T5/guides/ingress-nginx",children:"ingress-nginx controller"})," can easily be installed with Glasskube."]}),"\n",(0,a.jsx)(n.p,{children:"Further links about cert-manager:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["cert-manager docs: ",(0,a.jsx)(n.a,{href:"https://cert-manager.io/docs/",children:"https://cert-manager.io/docs/"})]}),"\n",(0,a.jsxs)(n.li,{children:["Issuer configuration: ",(0,a.jsx)(n.a,{href:"https://cert-manager.io/docs/configuration/",children:"https://cert-manager.io/docs/configuration/"})]}),"\n",(0,a.jsxs)(n.li,{children:["Issuer list: ",(0,a.jsx)(n.a,{href:"https://cert-manager.io/docs/configuration/issuers/",children:"https://cert-manager.io/docs/configuration/issuers/"})]}),"\n"]}),"\n",(0,a.jsx)(c.Ay,{category:"Guides",categoryId:"DIC_kwDOLDumD84CfK3R"})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},15357:(e,n,s)=>{s.d(n,{Ay:()=>o,RM:()=>l});var a=s(74848),t=s(28453),r=s(49489),i=s(7227);const l=[];function c(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.A,{groupId:"operating-systems",children:[(0,a.jsxs)(i.A,{value:"mac",label:"macOS",children:[(0,a.jsxs)(n.p,{children:["On macOS, you can use ",(0,a.jsx)(n.a,{href:"https://brew.sh/",children:"Homebrew"})," to install and update Glasskube."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"brew install glasskube/tap/glasskube\n"})})]}),(0,a.jsxs)(i.A,{value:"linux",label:"Linux",children:[(0,a.jsx)(n.p,{children:"You can install Glasskube using one of the package managers below."}),(0,a.jsxs)(s,{children:[(0,a.jsx)("summary",{children:"RPM-based installation (RedHat/CentOS/Fedora)"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"dnf install https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.rpm\n"})})]}),(0,a.jsxs)(s,{children:[(0,a.jsx)("summary",{children:"DEB-based installation (Ubuntu/Debian)"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"curl -LO https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.deb\nsudo dpkg -i glasskube_v0.24.0_amd64.deb\n"})})]}),(0,a.jsxs)(s,{children:[(0,a.jsx)("summary",{children:"APK-based installation (Alpine)"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"curl -LO https://releases.dl.glasskube.dev/glasskube_v0.24.0_amd64.apk\napk add --allow-untrusted glasskube_v0.24.0_amd64.apk\n"})})]}),(0,a.jsxs)(n.p,{children:["If you are using a distribution that does not use one of the package managers above, or require a 32-bit binary,\ncheck out additional download options attached to our ",(0,a.jsx)(n.a,{href:"https://github.com/glasskube/glasskube/releases/latest",children:"latest release"}),"."]})]}),(0,a.jsx)(i.A,{value:"win",label:"Windows",children:(0,a.jsxs)(n.p,{children:["Download the ",(0,a.jsx)(n.a,{href:"https://releases.dl.glasskube.dev/glasskube_v0.24.0_windows_x86_64.zip",children:"windows archive"})," from our\nlatest ",(0,a.jsx)(n.a,{href:"https://github.com/glasskube/glasskube/releases/latest",children:"Release"})," and unpack it using Windows Explorer."]})}),(0,a.jsxs)(i.A,{value:"nixos",label:"NixOS/Nixpkgs",children:[(0,a.jsxs)(n.p,{children:["You can either use the package temporarily in a ",(0,a.jsx)("b",{children:"nix-shell"}),":"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"nix-shell -p glasskube\n"})}),(0,a.jsxs)(n.p,{children:["Or install it globally by adding ",(0,a.jsx)(n.code,{children:"pkgs.glasskube"})," to your ",(0,a.jsx)(n.code,{children:"environment.systemPackages"}),"."]})]})]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)(n.p,{children:["After installing Glasskube on your local machine, make sure to install the necessary components in your Kubernetes cluster by running ",(0,a.jsx)(n.code,{children:"glasskube bootstrap"}),".\nFor more information, check out our ",(0,a.jsx)(n.a,{href:"/docs/getting-started/bootstrap",children:"bootstrap guide"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},7227:(e,n,s)=>{s.d(n,{A:()=>i});s(96540);var a=s(34164);const t={tabItem:"tabItem_Ymn6"};var r=s(74848);function i(e){let{children:n,hidden:s,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(t.tabItem,i),hidden:s,children:n})}},49489:(e,n,s)=>{s.d(n,{A:()=>v});var a=s(96540),t=s(34164),r=s(24245),i=s(56347),l=s(36494),c=s(62814),o=s(45167),u=s(69900);function d(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:s,attributes:a,default:t}}=e;return{value:n,label:s,attributes:a,default:t}}))}(s);return function(e){const n=(0,o.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function g(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:s}=e;const t=(0,i.W6)(),r=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,c.aZ)(r),(0,a.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})}),[r,t])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,r=h(e),[i,c]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=s.find((e=>e.default))??s[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:r}))),[o,d]=p({queryString:s,groupId:t}),[m,b]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,r]=(0,u.Dv)(s);return[t,(0,a.useCallback)((e=>{s&&r.set(e)}),[s,r])]}({groupId:t}),f=(()=>{const e=o??m;return g({value:e,tabValues:r})?e:null})();(0,l.A)((()=>{f&&c(f)}),[f]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!g({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),b(e)}),[d,b,r]),tabValues:r}}var b=s(11062);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=s(74848);function j(e){let{className:n,block:s,selectedValue:a,selectValue:i,tabValues:l}=e;const c=[],{blockElementScrollPositionUntilNextRender:o}=(0,r.a_)(),u=e=>{const n=e.currentTarget,s=c.indexOf(n),t=l[s].value;t!==a&&(o(n),i(t))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},n),children:l.map((e=>{let{value:n,label:s,attributes:r}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>c.push(e),onKeyDown:d,onClick:u,...r,className:(0,t.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":a===n}),children:s??n},n)}))})}function k(e){let{lazy:n,children:s,selectedValue:r}=e;const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function y(e){const n=m(e);return(0,x.jsxs)("div",{className:(0,t.A)("tabs-container",f.tabList),children:[(0,x.jsx)(j,{...n,...e}),(0,x.jsx)(k,{...n,...e})]})}function v(e){const n=(0,b.A)();return(0,x.jsx)(y,{...e,children:d(e.children)},String(n))}},51852:(e,n,s)=>{s.d(n,{Ay:()=>l,t2:()=>c});var a=s(96540),t=s(12171),r=s(7710),i=s(74848);function l(e){let{category:n,categoryId:s}=e;const{colorMode:l}=(0,r.G)(),c=e=>{if("https://giscus.app"!==e.origin)return;if("object"!=typeof e.data||!e.data.giscus)return;const n=e.data.giscus;if(n.discussion&&n.viewer){const e=n.viewer.login;if(e.includes("giscus")&&e.includes("bot"))return;const s=n.viewer.url;window.posthog&&window.posthog.setPersonProperties({github_url:s})}};return(0,a.useEffect)((()=>(window.addEventListener("message",c),()=>{window.removeEventListener("message",c)})),[]),(0,i.jsx)(t.A,{repo:"glasskube/glasskube",repoId:"R_kgDOLDumDw",category:n,categoryId:s,mapping:"title",strict:"0",reactionsEnabled:"1",emitMetadata:"1",inputPosition:"top",theme:l,lang:"en",loading:"lazy"})}function c(){return(0,i.jsx)(l,{category:"Blog",categoryId:"DIC_kwDOLDumD84CfCte"})}},12171:(e,n,s)=>{s.d(n,{A:()=>r});var a=s(74848),t=s(96540);function r({id:e,host:n,repo:r,repoId:i,category:l,categoryId:c,mapping:o,term:u,strict:d,reactionsEnabled:h,emitMetadata:g,inputPosition:p,theme:m,lang:b,loading:f}){const[x,j]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{x||(s.e(1135).then(s.bind(s,1135)),j(!0))}),[]),x?(0,a.jsx)("giscus-widget",{id:e,host:n,repo:r,repoid:i,category:l,categoryid:c,mapping:o,term:u,strict:d,reactionsenabled:h,emitmetadata:g,inputposition:p,theme:m,lang:b,loading:f}):null}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var a=s(96540);const t={},r=a.createContext(t);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);