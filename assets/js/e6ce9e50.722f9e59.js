"use strict";(self.webpackChunkglasskube_docs=self.webpackChunkglasskube_docs||[]).push([[5971],{5703:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var n=s(4848),o=s(8453);const i={},r="Bootstrap",a={id:"getting-started/bootstrap",title:"Bootstrap",description:"As Glasskube is still in technical preview a manual bootstrap is needed.",source:"@site/docs/02_getting-started/02_bootstrap.mdx",sourceDirName:"02_getting-started",slug:"/getting-started/bootstrap",permalink:"/docs/getting-started/bootstrap",draft:!1,unlisted:!1,editUrl:"https://github.com/glasskube/glasskube/tree/main/website/docs/02_getting-started/02_bootstrap.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/getting-started/install"},next:{title:"Upgrading",permalink:"/docs/getting-started/upgrading"}},l={},d=[{value:"Bootstrapping in GitOps environments",id:"bootstrapping-in-gitops-environments",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"Deployments do not become ready",id:"deployments-do-not-become-ready",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"bootstrap",children:"Bootstrap"})}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["As Glasskube is still in technical preview a manual bootstrap is needed.",(0,n.jsx)("br",{}),"\r\nAutomatic detection and bootstrapping will be implemented in a future version."]})}),"\n",(0,n.jsxs)(t.p,{children:["In order to install packages in a Kubernetes cluster using Glasskube, it is necessary to install the required server components.\r\nConveniently, for most users this can be achieved by running ",(0,n.jsx)(t.code,{children:"glasskube bootstrap"})," in a terminal."]}),"\n",(0,n.jsxs)(t.p,{children:["The bootstrap command installs the Package Operator and it's associated Custom Resource Definitions (CRDs).\r\nBy default, the Package Operator is installed in an ",(0,n.jsx)(t.em,{children:"All-In-One"})," (AIO) configuration.\r\nThis configuration comes bundled with a subset of Flux.\r\nGlasskube is still compatible with any other GitOps solution, but Flux is a necessary requirement of the Package Operator."]}),"\n",(0,n.jsxs)(t.p,{children:["If you already use Flux in your cluster or want to manage it yourself, first ",(0,n.jsx)(t.a,{href:"https://fluxcd.io/flux/installation/bootstrap/",children:"install Flux"}),",\r\nand then Glasskube using a ",(0,n.jsx)(t.em,{children:"slim"})," configuration by running ",(0,n.jsx)(t.code,{children:"glasskube bootstrap --type=slim"}),".\r\nTo ensure compatibility, please verify that the following flux components are installed in their respective version:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"source-controller"})," deployment: v1.3.0"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"helm-controller"})," deployment: v1.0.1"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"HelmChart"})," CRD: v1"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"HelmRelease"})," CRD: v2"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["For more information and command-line options check out ",(0,n.jsx)(t.code,{children:"glasskube help bootstrap"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"bootstrapping-in-gitops-environments",children:"Bootstrapping in GitOps environments"}),"\n",(0,n.jsxs)(t.p,{children:["In our ",(0,n.jsx)(t.a,{href:"https://github.com/glasskube/gitops-template",children:"GitOps template"})," we explain how Glasskube can be set up together with ArgoCD,\r\nusing the ",(0,n.jsx)(t.code,{children:"glasskube bootstrap git"})," command."]}),"\n",(0,n.jsxs)(t.p,{children:["If you prefer a different GitOps tool or need a more customized solution, you can use ",(0,n.jsx)(t.code,{children:"glasskube bootstrap --dry-run -o yaml"}),"\r\nin order to generate the Glasskube manifests that you can put into your GitOps repository."]}),"\n",(0,n.jsx)(t.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,n.jsx)(t.h3,{id:"deployments-do-not-become-ready",children:"Deployments do not become ready"}),"\n",(0,n.jsxs)(t.p,{children:["By default, the ",(0,n.jsx)(t.code,{children:"Deployment"}),"s included in the bootstrapped configuration do not contain any taint tolerations.\r\nPlease make sure that your cluster has at least one schedulable node that is not tainted.\r\nThis issue was reported by users trying to bootstrap Glasskube on Amazon EKS clusters consisting exclusively of Fargate nodes.\r\nFargate nodes come with the taint ",(0,n.jsx)(t.code,{children:"eks.amazonaws.com/compute-type=fargate:NoSchedule"})," by default, which results in the ",(0,n.jsx)(t.code,{children:"Pods"})," associated with the Glasskube ",(0,n.jsx)(t.code,{children:"Deployments"})," to be unschedulable."]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var n=s(6540);const o={},i=n.createContext(o);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);