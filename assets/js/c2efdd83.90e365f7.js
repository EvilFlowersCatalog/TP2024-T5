"use strict";(self.webpackChunkglasskube_docs=self.webpackChunkglasskube_docs||[]).push([[7754],{41575:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var n=o(74848),a=o(28453);const r={},t="Image microservice",s={id:"documentation/ai/image_microservice",title:"Image microservice",description:"Image microservice je mikroslu\u017eba zodpovedn\xe1 za extrakciu obr\xe1zkov z PDF dokumentov a ich n\xe1sledn\xe9 spracovanie. Spracovanie obr\xe1zkov zah\u0155\u0148a dve hlavn\xe9 funkcionality:",source:"@site/docs/documentation/ai/03_image_microservice.md",sourceDirName:"documentation/ai",slug:"/documentation/ai/image_microservice",permalink:"/TP2024-T5/docs/documentation/ai/image_microservice",draft:!1,unlisted:!1,editUrl:"https://github.com/EvilFlowersCatalog/TP2024-T5/tree/main/docs/documentation/ai/03_image_microservice.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Text microservice",permalink:"/TP2024-T5/docs/documentation/ai/text_microservice"},next:{title:"Equation microservice",permalink:"/TP2024-T5/docs/documentation/ai/equation_microservice"}},l={},c=[{value:"Extrahovanie obr\xe1zkov",id:"extrahovanie-obr\xe1zkov",level:2},{value:"Image captioning",id:"image-captioning",level:2},{value:"Image labeling",id:"image-labeling",level:2},{value:"UML diagram",id:"uml-diagram",level:2},{value:"Sekven\u010dn\xfd diagram",id:"sekven\u010dn\xfd-diagram",level:2}];function d(e){const i={em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"image-microservice",children:"Image microservice"})}),"\n",(0,n.jsxs)("div",{style:{textAlign:"justify"},children:[(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.em,{children:"Image microservice"})," je mikroslu\u017eba zodpovedn\xe1 za extrakciu obr\xe1zkov z PDF dokumentov a ich n\xe1sledn\xe9 spracovanie. Spracovanie obr\xe1zkov zah\u0155\u0148a dve hlavn\xe9 funkcionality:"]}),(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Image captioning"})," - automatick\xe9 generovanie stru\u010dn\xfdch popisov obr\xe1zkov"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Image labeling"})," - automatick\xe9 generovanie ozna\u010den\xed/\u0161t\xedtkov obr\xe1zkov predstavuj\xface k\u013e\xfa\u010dov\xe9 slov\xe1 alebo kateg\xf3rie spojen\xe9 s obsahom obr\xe1zku"]}),"\n"]}),(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.em,{children:"Image captioning"})," a ",(0,n.jsx)(i.em,{children:"image labeling"})," m\xf4\u017eu sl\xfa\u017ei\u0165 na lep\u0161ie pochopenie obsahu dokumentov a s\xfa u\u017eito\u010dn\xe9 pre bud\xfacu index\xe1ciu obr\xe1zkov pomocou Elasticsearch-u, \u010do umo\u017en\xed efekt\xedvne vyh\u013ead\xe1vanie a organiz\xe1ciu obr\xe1zkov na z\xe1klade ich obsahu. Z poh\u013eadu pou\u017e\xedvate\u013ea je t\xe1to mikroslu\u017eba d\xf4le\u017eit\xe1, preto\u017ee prispieva k zjednodu\u0161eniu pr\xe1ci s obrazov\xfdmi d\xe1tami, umo\u017e\u0148uje r\xfdchlej\u0161ie vyh\u013ead\xe1vanie relevantn\xfdch inform\xe1ci\xed a zvy\u0161uje celkov\xfa produktivitu pri pr\xe1ci s dokumentami."]}),(0,n.jsx)(i.p,{children:"Jednotliv\xe9 funkcionality (extrakciu, captioning, labeling) sme testovali na vedeck\xfdch dokumentoch s cie\u013eom prisp\xf4sobi\u0165 rie\u0161enie \u0161pecifik\xe1m danej dom\xe9ny."})]}),"\n",(0,n.jsx)(i.h2,{id:"extrahovanie-obr\xe1zkov",children:"Extrahovanie obr\xe1zkov"}),"\n",(0,n.jsxs)("div",{style:{textAlign:"justify"},children:[(0,n.jsx)(i.p,{children:"Pre \xfa\u010dely extrakcie obr\xe1zkov z PDF dokumentov sme vysk\xfa\u0161ali viacer\xe9 vo\u013ene dostupn\xe9 Python kni\u017enice a identifikovali sme ich v\xfdhody a nev\xfdhody:"}),(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"PyMuPDF"})," - extrahuje obr\xe1zky v r\xf4znych form\xe1toch (.jpg, .png - s alfa kan\xe1lom) a dosahoval relat\xedvne uspokojiv\xe9 v\xfdsledky, ale nebol schopn\xfd spr\xe1vne extrahova\u0165 niektor\xe9 obr\xe1zky zobrazuj\xface diagramy (diagramy boli rozdelen\xe9 na viacero samostatn\xfdch obr\xe1zkov, ktor\xe9 neboli spr\xe1vne extrahovan\xe9, \u010do viedlo k v\xfdskytu plne \u010diernych/bielych obr\xe1zkov)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"pdfplumber"})," - relat\xedvne dobr\xe9 v\xfdsledky, ale tie\u017e nebol schopn\xfd spr\xe1vne extrahova\u0165 niektor\xe9 obr\xe1zky zobrazuj\xface diagramy (diagramy boli takisto rozdelen\xe9 na viacero samostatn\xfdch obr\xe1zkov, ktor\xe9 v\u0161ak boli extrahovan\xe9 spr\xe1vne)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"PyPDF2"})," - neuspokojiv\xe9 v\xfdsledky, neextrahuje v\u0161etky obr\xe1zky pr\xedtomn\xe9 v dokumente"]}),"\n"]}),(0,n.jsx)(i.p,{children:"Spolo\u010dn\xfdm probl\xe9mom pri v\u0161etk\xfdch n\xe1strojoch je, \u017ee extrahuj\xfa aj obr\xe1zky irelevantn\xe9 pre na\u0161e potreby (napr. log\xe1, fotografie autorov, at\u010f.), \u010do si vy\u017eaduje \u010fal\u0161ie spracovanie, napr. filtrovan\xedm."}),(0,n.jsxs)(i.p,{children:["Architekt\xfara mikroslu\u017eby je navrhnut\xe1 tak, aby umo\u017e\u0148ovala pou\u017eitie viacer\xfdch Python kni\u017en\xedc na extrakciu obr\xe1zkov, ktor\xe9 bude mo\u017en\xe9 nastavi\u0165 pomocou environment\xe1lnej premennej (",(0,n.jsx)(i.em,{children:"PyMuPDF"})," alebo ",(0,n.jsx)(i.em,{children:"pdfplumber"}),", pr\xedpadne aj \u010fal\u0161ie v bud\xfacnosti)."]})]}),"\n",(0,n.jsx)(i.h2,{id:"image-captioning",children:"Image captioning"}),"\n",(0,n.jsx)("div",{style:{textAlign:"justify"},children:(0,n.jsxs)(i.p,{children:["V r\xe1mci captioning-u sme otestovali nieko\u013eko modelov z platformy ",(0,n.jsx)(i.em,{children:"Hugging Face"}),", pri\u010dom ako v\xfdsledn\xfd model sme zvolili robustn\xfd model ",(0,n.jsx)(i.strong,{children:"PaliGemma"})," (podpora 34 jazykov), ktor\xfd dosahoval najlep\u0161ie v\xfdsledky a rozhodli sme sa ho implementova\u0165 do n\xe1\u0161ho rie\u0161enia. Aj v tomto pr\xedpade umo\u017e\u0148uje\narchitekt\xfara mikroslu\u017eby integr\xe1ciu aj \u010fal\u0161\xedch modelov a modely voli\u0165 pomocou environment\xe1lnej premennej."]})}),"\n",(0,n.jsx)(i.h2,{id:"image-labeling",children:"Image labeling"}),"\n",(0,n.jsxs)("div",{style:{textAlign:"justify"},children:[(0,n.jsxs)(i.p,{children:["Pre \xfa\u010dely labeling-u sme taktie\u017e pracovali s viacer\xfdmi modelmi z platformy ",(0,n.jsx)(i.em,{children:"Hugging Face"}),". Av\u0161ak, narazili sme na probl\xe9m, \u017ee tieto modely boli tr\xe9novan\xe9 na obmedzenom po\u010dte tried a v odli\u0161n\xfdch dom\xe9nach,\n\u010do ich rob\xed nevhodn\xfdmi na spracovanie vedeck\xfdch dokumentov obsahuj\xfacich \u0161pecifick\xe9 obr\xe1zky, ako s\xfa zlo\u017eit\xe9 diagramy \u010di grafy.\nI napriek t\xfdmto obmedzeniam sme sa rozhodli ponecha\u0165 mo\u017enos\u0165 vyu\u017eitia AI modelov na generovanie \u0161t\xedtkov, preto\u017ee m\xf4\u017eu by\u0165 v bud\xfacnosti u\u017eito\u010dn\xe9 pre dokumenty dostupn\xe9 v kni\u017enici ELVIRA. V r\xe1mci mikroslu\u017eby sme implementovali 2 modely, a to\n",(0,n.jsx)(i.strong,{children:"Vision Transformer"})," a ",(0,n.jsx)(i.strong,{children:"ResNet-50"}),"."]}),(0,n.jsxs)(i.p,{children:["Ke\u010f\u017ee v\xfdsledky labeling-u pomocou AI modelov neboli uspokojiv\xe9, rozhodli sme sa implementova\u0165 aj pr\xedstup zalo\u017een\xfd na image captioning-u, ktor\xfd dok\xe1zal generova\u0165 najrelevantnej\u0161ie popisy obsahu obr\xe1zkov. Na extrakciu \u0161t\xedtkov\nz t\xfdchto popisov sme pou\u017eili Natural Language Processing (NLP) kni\u017enicu ",(0,n.jsx)(i.strong,{children:"spaCy"})," (konkr\xe9tne model ",(0,n.jsx)(i.strong,{children:"en_core_web_sm"}),") na generovanie \u0161t\xedtkov z vygenerovan\xe9ho popisu,\npri\u010dom sme identifikovali a vybrali k\u013e\xfa\u010dov\xe9 slov\xe1 reprezentuj\xface \u0161t\xedtky."]})]}),"\n",(0,n.jsx)(i.h2,{id:"uml-diagram",children:"UML diagram"}),"\n",(0,n.jsx)("div",{style:{textAlign:"justify"},children:(0,n.jsx)(i.p,{children:"Z\xe1kladn\xe1 podoba UML diagramu so vz\u0165ahmi medzi hlavn\xfdmi prvkami mikroslu\u017eby je zobrazen\xe1 na obr\xe1zku ni\u017e\u0161ie."})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"ilustration-image",src:o(71282).A+"",width:"1636",height:"1078"})}),"\n",(0,n.jsx)(i.h2,{id:"sekven\u010dn\xfd-diagram",children:"Sekven\u010dn\xfd diagram"})]})}function m(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},71282:(e,i,o)=>{o.d(i,{A:()=>n});const n=o.p+"assets/images/UML_diagram_image_service-626075796fc67cc34d72a349b72adb8e.png"},28453:(e,i,o)=>{o.d(i,{R:()=>t,x:()=>s});var n=o(96540);const a={},r=n.createContext(a);function t(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);