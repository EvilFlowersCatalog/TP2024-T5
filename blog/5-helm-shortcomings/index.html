<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-blog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">5 shortcomings of Helm | Team 5</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="5 shortcomings of Helm | Team 5"><meta data-rh="true" name="description" content="5 reasons we are trying to build the next generation of deployment automation for Kubernetes."><meta data-rh="true" property="og:description" content="5 reasons we are trying to build the next generation of deployment automation for Kubernetes."><meta data-rh="true" property="og:image" content="https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png"><meta data-rh="true" name="twitter:image" content="https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-12-14T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.linkedin.com/in/pmigat/,https://github.com/kosmoz"><meta data-rh="true" property="article:tag" content="glasskube,helm,kubernetes"><link data-rh="true" rel="icon" href="/TP2024-T5/img/favicon.png"><link data-rh="true" rel="canonical" href="https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings/"><link data-rh="true" rel="alternate" href="https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings/" hreflang="en"><link data-rh="true" rel="alternate" href="https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings","mainEntityOfPage":"https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings","url":"https://EvilFlowersCatalog.dev/TP2024-T5/blog/5-helm-shortcomings","headline":"5 shortcomings of Helm","name":"5 shortcomings of Helm","description":"5 reasons we are trying to build the next generation of deployment automation for Kubernetes.","datePublished":"2023-12-14T00:00:00.000Z","author":[{"@type":"Person","name":"Philip Miglinci","description":"Co-Founder","url":"https://www.linkedin.com/in/pmigat/","image":"https://avatars.githubusercontent.com/pmig"},{"@type":"Person","name":"Jakob Steiner","description":"Software Engineer","url":"https://github.com/kosmoz","image":"https://avatars.githubusercontent.com/kosmoz"}],"image":{"@type":"ImageObject","@id":"https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png","url":"https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png","contentUrl":"https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png","caption":"title image for the blog post: 5 shortcomings of Helm"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://EvilFlowersCatalog.dev/TP2024-T5/blog","name":"Blog"}}</script><link rel="preconnect" href="https://a.glasskube.eu/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setRequestMethod","POST"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),_paq.push(["enableHeartBeatTimer"]),function(){var e="https://a.glasskube.eu/";_paq.push(["setRequestMethod","POST"]),_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","5"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>

<link rel="alternate" type="application/rss+xml" href="/TP2024-T5/blog/rss.xml" title="Team 5 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/TP2024-T5/blog/atom.xml" title="Team 5 Atom Feed">


<link rel="preconnect" href="https://p.glasskube.eu">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(p,i,n){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=i.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==n?g=e[n]=[]:n="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==n&&(e+="."+n),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([p,i,n])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_EloQUW6cgfbTc0pI9c5CXElhQ4gVGRoBsrUAoakJVoQ",{api_host:"https://p.glasskube.eu",ui_host:"https://eu.posthog.com",id:"default"})</script><link rel="stylesheet" href="/TP2024-T5/assets/css/styles.3a49a472.css">
<script src="/TP2024-T5/assets/js/runtime~main.89cb1c4c.js" defer="defer"></script>
<script src="/TP2024-T5/assets/js/main.ba36cd88.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/TP2024-T5/"><div class="navbar__logo"><img src="/TP2024-T5/img/glasskube-logo.svg" alt="Glasskube Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/TP2024-T5/img/glasskube-logo.svg" alt="Glasskube Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Team 5</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/TP2024-T5/blog/">Records</a><a class="navbar__item navbar__link" href="/TP2024-T5/docs/">Sprints</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main><article class="container margin-vert--lg"><div class="row"><div class="col col--3"><div><div style="font-size:28px">Recent posts</div><div><a style="margin-top:20px" class="button button--outline" href="/TP2024-T5/blog/">View Recent posts</a></div></div></div><div class="col col--7"><header class="card__header"><h1 class="title_xvU1">5 shortcomings of Helm</h1><div class="imageOnlyAuthorRow_lXe7"><div><div class="avatar"><a href="https://www.linkedin.com/in/pmigat/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/pmig" alt="Philip Miglinci"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://www.linkedin.com/in/pmigat/" target="_blank" rel="noopener noreferrer"><span>Philip Miglinci</span></a></div><small class="avatar__subtitle">Co-Founder</small></div></div></div><div><div class="avatar"><a href="https://github.com/kosmoz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/kosmoz" alt="Jakob Steiner"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/kosmoz" target="_blank" rel="noopener noreferrer"><span>Jakob Steiner</span></a></div><small class="avatar__subtitle">Software Engineer</small></div></div></div></div><div class="container_iJTo"><time datetime="2023-12-14T00:00:00.000Z">December 14, 2023</time> · <!-- -->10 min read</div></header><div id="__blog-post-container" class="markdown card__body"><p><img decoding="async" loading="lazy" src="https://cms.glasskube.eu/uploads/Goodbyehelm_7c21643ff8.png" alt="helm-thumbnail" class="img_ev3q"></p>
<p><em>5 reasons we are trying to build the next generation of deployment automation for Kubernetes.</em></p>
<p>Glasskube is fully open-source. Support us by leaving a star: <a href="https://github.com/glasskube/glasskube/" target="_blank" rel="noopener noreferrer">⭐ <code>glasskube/glasskube</code> ⭐</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>As a seasoned DevOps engineer, I found that Helm, the popular Kubernetes deployment tool, has some shocking shortcomings. In this post I want to discuss some of those which, in my opinion, require a new vision of a more modern deployment solution.
If you never heard about Helm before, in a nutshell it is:</p>
<blockquote>
<p>A framework for packaging Kubernetes resources (apps) to charts, publish them and let them easily be installed via a command line interface.</p>
</blockquote>
<p>The goal of this post is <em>not</em> to hate on the smart and talented people who built helm, but maybe we can kindle a productive and healthy discussion about where we need to go as the DevOps industry to stay relevant in the coming years. But to fully understand the following, I think it is important to understand what developments lead us to where we are today.
So, before we start, let&#x27;s quickly dive into the history of Helm.</p>
<p>In 2015, a company called Deis created Helm, a package manager for Kubernetes.
Deis is now part of Azure Kubernetes Service but the original project still exists as <a href="https://github.com/helm/helm-classic" target="_blank" rel="noopener noreferrer">Helm Classic</a>. At the same time, Google had a project called <em>Kubernetes Deployment Manager</em>, which was similar to <a href="https://cloud.google.com/deployment-manager/docs" target="_blank" rel="noopener noreferrer">Google Deployment Manager</a> but for Kubernetes resources, rather than GCS resources.</p>
<p>At the beginning of 2016, the two projects decided to merge, which resulted in the release of <a href="https://v2.helm.sh/" target="_blank" rel="noopener noreferrer">Helm v2</a> later that year.
Helm v2 consists of a client and server component (Helm and tiller, respectively), where the latter was the continuation of the original Kubernetes Deployment Manager project.
Tiller was designed to handle deployment states to make it easier for multiple users to use Helm without interfering with each other.</p>
<p>In 2018, Helm <a href="https://helm.sh/blog/intro-helm-hub/" target="_blank" rel="noopener noreferrer">launched</a> the Helm Hub as a central place to discover charts which are otherwise found in distributed repositories.
Helm Hub was <a href="https://helm.sh/blog/helm-hub-moving-to-artifact-hub/" target="_blank" rel="noopener noreferrer">rebranded</a> to <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">Artifact Hub</a> in 2020.</p>
<p>With the release of Kubernetes 1.6, which had Role Based Access Control (RBAC) enabled by default, production deployments of helm became more difficult, because of the many security policies that were required by tiller.
So, people started to experiment with a new approach that could do the same thing without requiring a server component, which resulted in the release of Helm v3 in 2019.</p>
<p>As you can see, helm has a very rich history. It became the gold-standard of packaging apps for Kubernetes and is used by DevOps engineers all over the world. But just because helm is the biggest player on the field, it doesn&#x27;t mean that it is without flaws. <strong>So then, why say goodbye to helm?</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-shortcomings">5 shortcomings:<a href="#5-shortcomings" class="hash-link" aria-label="Direct link to 5 shortcomings:" title="Direct link to 5 shortcomings:">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-helm-doesnt-provide-a-mechanism-for-upgrading-custom-resource-definitions">1. Helm doesn&#x27;t provide a mechanism for upgrading Custom Resource Definitions<a href="#1-helm-doesnt-provide-a-mechanism-for-upgrading-custom-resource-definitions" class="hash-link" aria-label="Direct link to 1. Helm doesn&#x27;t provide a mechanism for upgrading Custom Resource Definitions" title="Direct link to 1. Helm doesn&#x27;t provide a mechanism for upgrading Custom Resource Definitions">​</a></h3>
<p><code>helm</code> does provide a method of packaging Custom Resource Definitions (CRDs) by placing them in a dedicated <code>crds</code> directory, but these are ignored during upgrades!
<a href="https://helm.sh/docs/chart_best_practices/custom_resource_definitions/#some-caveats-and-explanations" target="_blank" rel="noopener noreferrer">This is intentional</a> and designed to prevent accidental data loss.
Therefore, upgrading a chart does <em>not</em> automatically upgrade it&#x27;s associated CRDs, which is unexpected for many engineers and leads to more manually involved and error-prone upgrade procedures and other anti-patterns.</p>
<p>To combat this major design flaw, chart developers have come up with several strategies, the most popular of which are:</p>
<ul>
<li>Putting the CRDs into the chart&#x27;s <code>template</code> directory</li>
<li>Creating separate sub-charts just for CRDs</li>
</ul>
<p>An alternative way to overcome this shortcoming is to not invoke helm commands directly, but rather use a CI/CD solution, like <a href="https://github.com/fluxcd/flux2" target="_blank" rel="noopener noreferrer">Flux</a>.
Flux provides a setting to automatically update CRDs during a helm upgrade, but it is <a href="https://fluxcd.io/flux/components/helm/api/v2beta2/#helm.toolkit.fluxcd.io/v2beta2.CRDsPolicy" target="_blank" rel="noopener noreferrer">off by default</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-helm-dependency-management">2. Helm dependency management<a href="#2-helm-dependency-management" class="hash-link" aria-label="Direct link to 2. Helm dependency management" title="Direct link to 2. Helm dependency management">​</a></h3>
<p>The way to specify a dependency in a helm chart is to reference it as a sub-chart.
This method can work great for tightly coupled dependencies that you might want to install separately or as part of another chart, but it has some weaknesses that are important to understand:</p>
<ul>
<li>Sub-charts are <strong>always installed in the same namespace</strong> as the primary release and there is no way to change this.</li>
<li>There exists <strong>no mechanism to share a dependency</strong> between two releases.</li>
</ul>
<p>For example, our <a href="https://github.com/glasskube/operator/tree/main/charts/glasskube-operator" target="_blank" rel="noopener noreferrer">Glasskube Operator Helm Chart</a> depends on kube-prometheus-stack, velero and a bunch of other dependencies, some of which are already installed in many Kubernetes clusters.
To provide an installation experience that is as simple as possible, the chart references all those dependencies as sub-charts, but using this approach, all those dependencies are bundled in the Glasskube <a href="https://glasskube.eu/de/r/glossar/kubernetes-operator/" target="_blank" rel="noopener noreferrer">Operator</a> release and can not be changed or updated separately.
Additionally, there is no way to check whether a dependency is already installed, so a user might end up with two separate installations of the same helm chart!</p>
<p>Ideal tooling would allow chart developers to specify external dependencies and simply ensure that those are present in a cluster before a chart can be installed.
This way, dependencies could be shared among consumers.
This is how package managers for operating systems work since forever. Why does Kubernetes need to be different?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-helm-chart-creation-is-not-user-friendly">3. Helm chart creation is not user-friendly<a href="#3-helm-chart-creation-is-not-user-friendly" class="hash-link" aria-label="Direct link to 3. Helm chart creation is not user-friendly" title="Direct link to 3. Helm chart creation is not user-friendly">​</a></h3>
<p>So far, we discussed problems that affect you as a chart user.
But what does the situation look like for chart developers?</p>
<p>Well, let&#x27;s start by creating a new chart.
This can be achieved by calling <code>helm create your-chart</code>.
I invite you to quickly open a terminal, run this command and go through all the files it creates.
As I&#x27;m sure you will agree, it&#x27;s… a <em>lot</em>.
I still remember the moment when I wanted to create my first helm chart and saw the results of this command thinking, “this can&#x27;t be right.”</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 8,0K</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxr-xr-x. 2 kosmoz kosmoz   40  7. Dez 13:23 charts/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 1,2K  7. Dez 13:23 Chart.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxr-xr-x. 3 kosmoz kosmoz  200  7. Dez 13:23 templates/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 1,9K  7. Dez 13:23 values.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./charts:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./templates:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 28K</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 1,9K  7. Dez 13:23 deployment.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 1,8K  7. Dez 13:23 _helpers.tpl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz  925  7. Dez 13:23 hpa.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 2,1K  7. Dez 13:23 ingress.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 1,8K  7. Dez 13:23 NOTES.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz  326  7. Dez 13:23 serviceaccount.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz  370  7. Dez 13:23 service.yaml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">drwxr-xr-x. 2 kosmoz kosmoz   60  7. Dez 13:23 tests/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./templates/tests:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 4,0K</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r--. 1 kosmoz kosmoz 388  7. Dez 13:23 test-connection.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In total, <code>helm create</code> generates 10 files in different sub-directories and it is not immediately apparent which ones of those are actually essential for a chart and which ones are just example code.
I once complained about this to a DevOps engineer who had already created dozens of charts and they laughed and said:</p>
<blockquote>
<p>“The first step in creating a chart is running <code>helm create</code>. The second is deleting 90% of the results.”</p>
</blockquote>
<p>Really? That&#x27;s the best we can do?
Okay, let&#x27;s accept that and say you figured out the structure of your new chart.
Now, you probably want to add some resources.
Of course, you can just drop your existing YAML files into the chart&#x27;s <code>templates</code> directory, but you&#x27;re probably interested in using some parameters from your <code>values.yaml</code> in your resources.
After all, that would kind of be the point of creating a helm chart in the first place.
To look at an example, go back to your terminal (where, previously, you created your helm chart) and check out the file <code>templates/serviceaccount.yaml</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{- if .Values.serviceAccount.create -}}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kind: ServiceAccount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  name: {{ include &quot;your-chart.serviceAccountName&quot; . }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {{- include &quot;your-chart.labels&quot; . | nindent 4 }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {{- with .Values.serviceAccount.annotations }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  annotations:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {{- toYaml . | nindent 4 }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {{- end }}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{{- end }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, I know what you&#x27;re thinking:</p>
<blockquote>
<p>That doesn&#x27;t look like the YAML I know!
What is &#x27; <code>include</code>, <code>toYaml</code> and <code>nindent</code> and what&#x27;s up with all the <code>-</code> and <code>{{</code> and <code>|</code>?</p>
</blockquote>
<p>It&#x27;s true, although helm template files use the file name extension for YAML, they are actually just templates.
Helm templates are based on the Go template language which is very flexible and powerful but doesn&#x27;t really know anything about YAML or Kubernetes.
That&#x27;s why it&#x27;s necessary to call lots of these conversion functions inside the template files.</p>
<p>As a result many popular charts end up with template files that contain more template language stuff than actual YAML.
This makes them hard to read and maintain, especially as someone who wasn&#x27;t involved in its creation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-the-valuesyaml-file-is-an-anti-pattern">4. The <code>values.yaml</code> file is an anti-pattern<a href="#4-the-valuesyaml-file-is-an-anti-pattern" class="hash-link" aria-label="Direct link to 4-the-valuesyaml-file-is-an-anti-pattern" title="Direct link to 4-the-valuesyaml-file-is-an-anti-pattern">​</a></h3>
<p>Now, let&#x27;s go back to something that&#x27;s a little more tangible for you as a helm user.
As a Kubernetes application developer who writes resources as YAML files, you are probably used to having rich support in your development environment, including strict schema validation and super comprehensive autocomplete.
Creating a <code>values.yaml</code> file for a chart release is a little different.
See, there is no general schema for what goes and doesn&#x27;t go inside a <code>values.yaml</code> file.
Thus, your development environment cannot help you beyond basic YAML syntax highlighting.
The only way to verify if your <code>values.yaml</code> file is valid is to run it through helm and see what happens.
Using <code>helm template</code> allows you to render these helm templates which detects possible errors in the configuration file.</p>
<p>A lot of chart developers want to give users the possibility to fine tune most aspects of final deployment.
As a result, the number of possibilities for configuration is often unreasonably large and complicated, mimicking the actual resources they want to create, but without any schema validation!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-inability-to-interact-with-the-kubernetes-api">5. Inability to interact with the Kubernetes API<a href="#5-inability-to-interact-with-the-kubernetes-api" class="hash-link" aria-label="Direct link to 5. Inability to interact with the Kubernetes API" title="Direct link to 5. Inability to interact with the Kubernetes API">​</a></h3>
<p>We already discussed 4 shortcomings of helm, but in my opinion the biggest downside of helm is this:
A helm release is strictly a one-shot operation.
Once a helm release is successfully installed, helm&#x27;s job is done.
But here&#x27;s the thing: <strong>Installing an application is usually not the hard part, maintaining an installation and keeping it running is</strong>.
Unfortunately, helm doesn&#x27;t really help you with that.</p>
<p>After finishing installation of a release, helm can not perform any additional changes due to its design as a strictly client-side application.
This inability to interact with the release during later stages of a release&#x27;s life-cycle means that <strong>helm as a deployment method inherently static</strong>, but modern software deployments are often required to be very dynamic.</p>
<p>A simple example that an <a href="https://glasskube.eu/de/r/glossar/kubernetes-operator/" target="_blank" rel="noopener noreferrer">Operator</a> can do, but helm can&#x27;t would be setting the Ingress class and annotations dynamically based on the detected Kubernetes environment:</p>
<p><strong>Detecting the cloud environment:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> dynamicCloudProvider</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">when</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        kubernetesClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">configMaps</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">inNamespace</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;kube-system&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">withName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;shoot-info&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">data</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;extensions&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">?</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;shoot-dns-service&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gardener</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        kubernetesClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">nodes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">withLabel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;eks.amazonaws.com/nodegroup&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isNotEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">aws</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        kubernetesClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">nodes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">withLabel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;csi.hetzner.cloud/location&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">isNotEmpty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hcloud</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">generic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Applying configurations based on the environment:</strong></p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> defaultIngressClassName</span><span class="token operator">:</span><span class="token plain"> String</span><span class="token operator">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">when</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">cloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">aws </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:rgb(255, 121, 198)">&quot;alb&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> configService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ingressClassName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">protected</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">fun</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getDefaultAnnotations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">primary</span><span class="token operator">:</span><span class="token plain"> P</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> context</span><span class="token operator">:</span><span class="token plain"> Context</span><span class="token operator">&lt;</span><span class="token plain">P</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> Map</span><span class="token operator">&lt;</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> String</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    configService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getCommonIngressAnnotations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">primary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">when</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">configService</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">cloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">aws </span><span class="token operator">-&gt;</span><span class="token plain"> awsDefaultAnnotations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CloudProvider</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gardener </span><span class="token operator">-&gt;</span><span class="token plain"> gardenerDefaultAnnotations</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getCertManagerDefaultAnnotations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> ingressNginxDefaultAnnotations</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Although many developers are a bit scared of helm at first, its simple design gave helm the lead it currently holds in the space of Kubernetes deployment methods.
Helm is currently the de-facto standard for managing complex application deployments, but that doesn&#x27;t mean we shouldn&#x27;t challenge its design and point out shortcomings.
New requirements for applications will require more dynamic deployment methods and we DevOps engineers and application developers must be prepared.</p>
<p>This is why we started Glasskube: An easier way to deploy applications and infrastructure on Kubernetes with Glasskube <a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer"><code>glasskube/glasskube</code></a>.</p>
<p><strong>If you want to follow our progress make sure to star  <a href="https://github.com/glasskube/glasskube" target="_blank" rel="noopener noreferrer"><code>glasskube/glasskube</code></a> and join our <a href="https://discord.gg/j9A7epEeg2" target="_blank" rel="noopener noreferrer"><code>Discord</code></a>.</strong></p></div><footer class="docusaurus-mt-lg card__footer"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/TP2024-T5/blog/tags/glasskube/">glasskube</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/TP2024-T5/blog/tags/helm/">helm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/TP2024-T5/blog/tags/kubernetes/">kubernetes</a></li></ul></div></div></footer></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#5-shortcomings" class="table-of-contents__link toc-highlight">5 shortcomings:</a><ul><li><a href="#1-helm-doesnt-provide-a-mechanism-for-upgrading-custom-resource-definitions" class="table-of-contents__link toc-highlight">1. Helm doesn&#39;t provide a mechanism for upgrading Custom Resource Definitions</a></li><li><a href="#2-helm-dependency-management" class="table-of-contents__link toc-highlight">2. Helm dependency management</a></li><li><a href="#3-helm-chart-creation-is-not-user-friendly" class="table-of-contents__link toc-highlight">3. Helm chart creation is not user-friendly</a></li><li><a href="#4-the-valuesyaml-file-is-an-anti-pattern" class="table-of-contents__link toc-highlight">4. The <code>values.yaml</code> file is an anti-pattern</a></li><li><a href="#5-inability-to-interact-with-the-kubernetes-api" class="table-of-contents__link toc-highlight">5. Inability to interact with the Kubernetes API</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></article></main><nav class="container margin-vert--lg" aria-label="Blog post page navigation"><div class="row"><div class="col col--3"></div><div class="row col col--7"><div class="col"><a class="pagination-nav__link pagination-nav__link--prev" href="/TP2024-T5/blog/technical-preview/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Glasskube v0.0.1 — Technical Preview</div></a></div><div class="col"></div></div></div></nav></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Glasskube, Inc.<br>Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>